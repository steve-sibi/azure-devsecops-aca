# Minimal config suitable for Docker Compose (bind to all interfaces so other containers can connect).
Foreground yes

TCPSocket 3310
TCPAddr 0.0.0.0

DatabaseDirectory /var/lib/clamav
TemporaryDirectory /tmp

PidFile /tmp/clamd.pid

# Allow streaming up to 10MB (API defaults to 10MB max).
StreamMaxLength 10485760

# Guardrails to reduce resource exhaustion (zip bombs, deep recursion, etc).
# Keep these aligned with FILE_SCAN_MAX_BYTES and CLAMAV_TIMEOUT_SECONDS.
MaxFileSize 10M
MaxScanSize 25M
MaxRecursion 12
MaxFiles 2000
# Milliseconds.
MaxScanTime 8000

# Reload the DB when freshclam updates the volume.
SelfCheck 60

LogTime yes
LogFile /var/log/clamav/clamd.log

